(self.AMP=self.AMP||[]).push({n:"amp-carousel",v:"2010270040000",f:function(t,e){var i;function s(){return i?i:i=Promise.resolve(void 0)}function a(t,e=""){try{return decodeURIComponent(t)}catch(t){return e}}var r=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function n(t){return"number"===typeof t&&isFinite(t)}var l=self.AMP_CONFIG||{},o=("string"==typeof l.cdnProxyRegex?new RegExp(l.cdnProxyRegex):l.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function h(t){if(self.document&&self.document.head&&(!self.location||!o.test(self.location.origin))){var e=self.document.head.querySelector(`meta[name="${t}"]`);e&&e.getAttribute("content")}}l.cdnUrl||h("runtime-host");l.geoApiUrl||h("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var u=self.__AMP_LOG;function c(){if(!u.user)throw Error("failed to call initLogConstructor");return u.user}function m(){if(u.dev)return u.dev;throw Error("failed to call initLogConstructor")}function d(t){c().assert(t,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}var p=class{constructor(){var t,e;this.promise=new Promise(((i,s)=>{t=i;e=s}));this.resolve=t;this.reject=e}};function f(t,e){t=t.__AMP_TOP||(t.__AMP_TOP=t);return y(t,e)}function v(t){var e=g(t);e=w(e);return y(e,"owners")}function b(t){t=g(t);t=w(t);return L(t,"action")?y(t,"action"):null}function g(t){return t.nodeType?f((t.ownerDocument||t).defaultView,"ampdoc").getAmpDoc(t):t}function w(t){t=g(t);return t.isSingleDoc()?t.win:t}function y(t,e){L(t,e);t=x(t)[e];t.obj||(t.obj=new t.ctor(t.context),t.ctor=null,t.context=null,t.resolve&&t.resolve(t.obj));return t.obj}function A(t){var e=x(t)["amp-analytics-instrumentation"];if(e){if(e.promise)return e.promise;y(t,"amp-analytics-instrumentation");return e.promise=Promise.resolve(e.obj)}return null}function x(t){var e=t.__AMP_SERVICES;e||(e=t.__AMP_SERVICES={});return e}function L(t,e){t=t.__AMP_SERVICES&&t.__AMP_SERVICES[e];return!(!t||!t.ctor&&!t.obj)}function C(){var t=new p,e=t.promise,i=t.resolve,s=t.reject;e.catch((()=>{}));return{obj:null,promise:e,resolve:i,reject:s,context:null,ctor:null}}
/*
    https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function E(t){return t||{}}function P(t,e){for(;t&&void 0!==t;t=t.parentElement)if(e(t))return t;return null}function _(t){return t.closest?t.closest("[i-amphtml-scale-animation]"):P(t,(t=>{var e=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;t=e?e.call(t,"[i-amphtml-scale-animation]"):!1;return t}))}function M(t,e){var i=t.hasAttribute("i-amphtml-carousel-hide-buttons"),s=void 0!==e?e:!i;s!==i&&(s?t.setAttribute("i-amphtml-carousel-hide-buttons",""):t.removeAttribute("i-amphtml-carousel-hide-buttons"))}function k(t){var e=A(w(t));if(e)return e;var i=g(t);return i.waitForBodyOpen().then((()=>{var t=i.win;var e=i.win.document.head;if(e){var a={};e=e.querySelectorAll("script[custom-element],script[custom-template]");for(var r=0;r<e.length;r++){var n=e[r];n=n.getAttribute("custom-element")||n.getAttribute("custom-template");a[n]=!0}a=Object.keys(a)}else a=[];return a.includes("amp-analytics")?f(t,"extensions").waitForExtension(t,"amp-analytics"):s()})).then((()=>{var e=i.win;if(e.__AMP_EXTENDED_ELEMENTS&&e.__AMP_EXTENDED_ELEMENTS["amp-analytics"]){e=w(t);var s=A(e);s?e=s:(e=x(e),e["amp-analytics-instrumentation"]=C(),e=e["amp-analytics-instrumentation"].promise)}else e=null;return e}))}function S(t){return f(t,"timer")}function N(t,e,i,s){var a=new O(0,0,t,e,i,s,1,1);return a.solveYValueFromXValue.bind(a)}var O=class{constructor(t,e,i,s,a,r,n,l){this.x0=t;this.y0=e;this.x1=i;this.y1=s;this.x2=a;this.y2=r;this.x3=n;this.y3=l}solveYValueFromXValue(t){return this.getPointY(this.solvePositionFromXValue(t))}solvePositionFromXValue(t){var e=(t-this.x0)/(this.x3-this.x0);if(0>=e)return 0;if(1<=e)return 1;var i=0,s=1,a=0;for(var r=0;8>r;r++){a=this.getPointX(e);var n=(this.getPointX(e+1e-6)-a)/1e-6;if(1e-6>Math.abs(a-t))return e;if(1e-6>Math.abs(n))break;else a<t?i=e:s=e,e-=(a-t)/n}for(r=0;1e-6<Math.abs(a-t)&&8>r;r++)a<t?(i=e,e=(e+s)/2):(s=e,e=(e+i)/2),a=this.getPointX(e);return e}getPointX(t){if(0==t)return this.x0;if(1==t)return this.x3;var e=this.lerp(this.x0,this.x1,t),i=this.lerp(this.x1,this.x2,t);var s=this.lerp(this.x2,this.x3,t);e=this.lerp(e,i,t);i=this.lerp(i,s,t);return this.lerp(e,i,t)}getPointY(t){if(0==t)return this.y0;if(1==t)return this.y3;var e=this.lerp(this.y0,this.y1,t),i=this.lerp(this.y1,this.y2,t);var s=this.lerp(this.y2,this.y3,t);e=this.lerp(e,i,t);i=this.lerp(i,s,t);return this.lerp(e,i,t)}lerp(t,e,i){return t+i*(e-t)}};var j=N(.25,.1,.25,1),I=N(.42,0,1,1),T=N(0,0,.58,1),R=N(.42,0,.58,1);var F={linear:function(t){return t},ease:j,"ease-in":I,"ease-out":T,"ease-in-out":R};function G(t){if(!t)return null;if("string"==typeof t){if(-1!=t.indexOf("cubic-bezier")){var e=t.match(/cubic-bezier\((.+)\)/);if(e&&(e=e[1].split(",").map(parseFloat),4==e.length)){for(var i=0;4>i;i++)if(isNaN(e[i]))return null;return N(e[0],e[1],e[2],e[3])}return null}return F[t]}return t}function B(){}function V(t,e,i,s){return new D(t).setCurve(s).add(0,e,1).start(i)}var D=class{constructor(t,e){this.L=t;(t=e)||(t=f(self,"vsync"));this.C=t;this.ha=null;this.w=[]}setCurve(t){t&&(this.ha=G(t));return this}add(t,e,i,s){this.w.push({delay:t,func:e,duration:i,curve:G(s)});return this}start(t){return new X(this.C,this.L,this.w,this.ha,t)}};function W(t,e,i){if(t.ca){t.ca=!1;if(0!=i){1<t.w.length&&t.w.sort(((t,e)=>t.delay+t.duration-(e.delay+e.duration)));try{if(0<i)for(i=0;i<t.w.length;i++)t.w[i].func(1,!0);else for(var s=t.w.length-1;0<=s;s--)t.w[s].func(0,!1)}catch(t){m().error("Animation","completion failed: "+t,t),e=!1}}e?t.pa():t.oa()}}var X=class{constructor(t,e,i,s,a){this.C=t;this.L=e;this.w=[];for(e=0;e<i.length;e++){var r=i[e];this.w.push({delay:r.delay,func:r.func,duration:r.duration,curve:r.curve||s,started:!1,completed:!1})}this.na=a;this.qa=Date.now();this.ca=!0;this.la={};i=new p;this.ka=i.promise;this.pa=i.resolve;this.oa=i.reject;this.ma=this.C.createAnimTask(this.L,{mutate:this.ra.bind(this)});this.C.canAnimate(this.L)?this.ma(this.la):W(this,!1,0)}then(t,e){return t||e?this.ka.then(t,e):this.ka}thenAlways(t){t=t||B;return this.then(t,t)}halt(t){W(this,!1,t||0)}ra(){if(this.ca){var t=Date.now(),e=Math.min((t-this.qa)/this.na,1);for(var i=0;i<this.w.length;i++){var s=this.w[i];!s.started&&e>=s.delay&&(s.started=!0)}for(i=0;i<this.w.length;i++)if(s=this.w[i],s.started&&!s.completed)t:{var a,r;if(0<s.duration){if(a=r=Math.min((e-s.delay)/s.duration,1),s.curve&&1!=a)try{a=s.curve(r)}catch(t){m().error("Animation","step curve failed: "+t,t);W(this,!1,0);break t}}else a=r=1;1==r&&(s.completed=!0);try{s.func(a,s.completed)}catch(t){m().error("Animation","step mutate failed: "+t,t),W(this,!1,0)}}1==e?W(this,!0,0):this.C.canAnimate(this.L)?this.ma(this.la):W(this,!1,0)}}};function z(t){var e=t.documentElement;return["âš¡4email","amp4email"].some((t=>e.hasAttribute(t)))}var U=class extends t.BaseElement{constructor(t){super(t);this.I=this.J=null;this.P=!1}buildCallback(){var t=f(this.win,"input");if(z(this.element.ownerDocument)||this.element.hasAttribute("controls"))this.P=!0,this.element.classList.add("i-amphtml-carousel-has-controls");else t.onMouseDetected((t=>{t&&(this.P=!0,M(this.element,!this.P),this.element.classList.add("i-amphtml-carousel-has-controls"))}),!0);this.buildCarousel();this.buildButtons();this.setupGestures();this.setControlsState()}viewportCallback(t){t&&this.hintControls()}buildButton(t,e){var i=this.element.ownerDocument.createElement("div");i.tabIndex=0;i.classList.add("amp-carousel-button");i.classList.add(t);i.setAttribute("role",this.buttonsAriaRole());i.onkeydown=t=>{"Enter"!=t.key&&" "!=t.key||t.defaultPrevented||(t.preventDefault(),e())};i.onclick=e;return i}buttonsAriaRole(){return"button"}buildButtons(){this.J=this.buildButton("amp-carousel-button-prev",(()=>{this.interactionPrev()}));this.element.appendChild(this.J);this.I=this.buildButton("amp-carousel-button-next",(()=>{this.interactionNext()}));this.updateButtonTitles();this.element.appendChild(this.I)}prerenderAllowed(){return!0}isRelayoutNeeded(){return!0}buildCarousel(){}setupGestures(){}go(t,e,i=!1){this.goCallback(t,e,i)}goCallback(){}setControlsState(){this.J.classList.toggle("amp-disabled",!this.hasPrev());this.J.setAttribute("aria-disabled",!this.hasPrev());this.I.classList.toggle("amp-disabled",!this.hasNext());this.I.setAttribute("aria-disabled",!this.hasNext())}hintControls(){!this.P&&this.isInViewport()&&this.getVsync().mutate((()=>{this.element.classList.add("i-amphtml-carousel-button-start-hint");S(this.win).delay((()=>{this.mutateElement((()=>{this.element.classList.remove("i-amphtml-carousel-button-start-hint");M(this.element,!this.P)}))}),4e3)}))}updateButtonTitles(){this.I.title=this.getNextButtonTitle();this.J.title=this.getPrevButtonTitle()}getNextButtonTitle(){return this.element.getAttribute("data-next-button-aria-label")||"Next item in carousel"}getPrevButtonTitle(){return this.element.getAttribute("data-prev-button-aria-label")||"Previous item in carousel"}unlayoutCallback(){return!0}hasPrev(){}hasNext(){}interactionNext(){this.I.classList.contains("amp-disabled")||this.go(1,!0,!1)}interactionPrev(){this.J.classList.contains("amp-disabled")||this.go(-1,!0,!1)}};E({c:!0,v:!0,a:!0,ad:!0});function H(t){var e="";try{"localStorage"in t&&(e=t.localStorage.getItem("amp-experiment-toggles"))}catch(t){}var i=e?e.split(/\s*,\s*/g):[];t=Object.create(null);for(var s=0;s<i.length;s++)0!=i[s].length&&("-"==i[s][0]?t[i[s].substr(1)]=!1:t[i[s]]=!0);return t}var Y;var J="Webkit webkit Moz moz ms O o".split(" ");function K(t,e){if(e.startsWith("--"))return e;Y||(Y=Object.create(null));var i=Y[e];if(!i){i=e;if(void 0===t[e]){var s=e.charAt(0).toUpperCase()+e.slice(1);t:{for(var a=0;a<J.length;a++){var r=J[a]+s;if(void 0!==t[r]){s=r;break t}}s=""}var n=s;void 0!==t[n]&&(i=n)}Y[e]=i}return i}function $(t,e){var i=K(t.style,"order");i&&(i.startsWith("--")?t.style.setProperty(i,e):t.style[i]=e)}function q(t){var e=K(t.style,"scrollSnapType");if(e)return e.startsWith("--")?t.style.getPropertyValue(e):t.style[e]}var Z;function Q(t,e,i){var s={passive:!0};var a=tt();var r=!1;s&&(r=s.capture);t.addEventListener(e,(t=>{try{return i(t)}catch(t){throw self.__AMP_REPORT_ERROR(t),t}}),a?s:r)}function tt(){if(void 0!==Z)return Z;Z=!1;try{var t={get capture(){Z=!0}};self.addEventListener("test-options",null,t);self.removeEventListener("test-options",null,t)}catch(t){}return Z}function et(t,e,i){Q(t,e,i)}function it(t,e){return i=>t+(e-t)*i}function st(t,e){var i=t.F.length;if(!isFinite(e)||0>e||e>=i)t.user().error("amp-scrollable-carousel","Invalid [slide] value: %s",e),s();else{var a=t.o,r=a;t.measureMutateElement((()=>{r=t.F[e].offsetLeft-(t.element.offsetWidth-t.F[e].offsetWidth)/2}),(()=>{if(r!=a){var e=it(a,r);V(t.element,(i=>{t.A.scrollLeft=e(i)}),200,"ease-in-out").thenAlways((()=>{ot(t,r)}))}}))}}function at(t,e){ut(t,e,(e=>{v(t.element).scheduleLayout(t.element,e)}))}function rt(t,e,i){var s=lt(t,e,i);s!=e&&ut(t,s,(e=>{v(t.element).schedulePreload(t.element,e)}))}function nt(t,e,i){var s=[];ut(t,e,(e=>{s.push(e);v(t.element).updateInViewport(t.element,e,!0)}));i!=e&&ut(t,i,(e=>{if(!s.includes(e)){var i=v(t.element);i.updateInViewport(t.element,e,!1);i.schedulePause(t.element,e)}}))}function lt(t,e,i){var s=t.element.offsetWidth,a=t.A.scrollWidth;t=e+i*s;return 0>t?0:a>=s&&t>a-s?a-s:t}function ot(t,e){nt(t,e,t.ba);at(t,e);rt(t,e,Math.sign(e-t.ba));t.ba=e;t.o=e;t.setControlsState()}function ht(t,e){t.ea=S(t.win).delay((()=>{30>Math.abs(e-t.o)?(t.ea=null,ot(t,t.o)):ht(t,t.o)}),100)}function ut(t,e,i){var s=t.element.getLayoutWidth();for(var a=0;a<t.F.length;a++){var r=t.F[a];r.offsetLeft+r.offsetWidth>=e&&r.offsetLeft<=e+s&&i(r)}}var ct=class extends U{constructor(t){super(t);this.ba=this.o=0;this.ea=this.A=this.F=null}isLayoutSupported(t){return"fixed"==t||"fixed-height"==t}buildCarousel(){this.F=this.getRealChildren();this.A=this.element.ownerDocument.createElement("div");this.A.classList.add("i-amphtml-scrollable-carousel-container");this.A.setAttribute("tabindex","-1");this.element.appendChild(this.A);this.F.forEach((t=>{v(this.element).setOwner(t,this.element);t.classList.add("amp-carousel-slide");t.classList.add("amp-scrollable-carousel-slide");this.A.appendChild(t)}));this.W();this.A.addEventListener("scroll",this.da.bind(this));this.A.addEventListener("keydown",this.$.bind(this));this.registerAction("goToSlide",(t=>{var e=t.args;e&&(e=parseInt(e.index,10),st(this,e))}),1);b(this.element).addToAllowlist("amp-carousel","goToSlide",["email"])}buttonsAriaRole(){return"presentation"}layoutCallback(){at(this,this.o);rt(this,this.o,1);this.setControlsState();return s()}viewportCallback(t){super.viewportCallback(t);nt(this,this.o,this.o)}goCallback(t,e){var i=lt(this,this.o,t),s=this.o;if(i!=s)if(e){var a=it(s,i);V(this.element,(t=>{this.A.scrollLeft=a(t)}),200,"ease-in-out").thenAlways((()=>{ot(this,i)}))}else ot(this,i),this.A.scrollLeft=i}da(){var t=this.A.scrollLeft;this.o=t;null===this.ea&&ht(this,t)}$(t){var e=t.key;"ArrowLeft"!=e&&"ArrowRight"!=e||t.stopPropagation()}hasPrev(){return 0!=this.o}hasNext(){var t=this.element.getLayoutWidth();return this.o!=Math.max(this.A.scrollWidth-t,0)}W(){et(this.element,"touchmove",(t=>t.stopPropagation()))}};function mt(t){var e=Number(t.element.getAttribute("delay"));0<e&&(t.ga=Math.max(1e3,e));t.N||(t.element.setAttribute("loop",""),t.aa=!0,t.N=!0,t.shouldLoop=!0)}function dt(t,e){if(e!=t.B){var i=t.B;t.G=e;t.B=t.G&&t.isLoopingEligible();!i&&t.B&&mt(t);t.B?pt(t):t.clearAutoplay()}}function pt(t){t.B&&0!=t.H&&(t.clearAutoplay(),t.R=S(t.win).delay(t.go.bind(t,1,!0,!0),t.ga))}var ft=class extends U{constructor(t){super(t);this.R=null;this.G=this.aa=this.N=!1;this.ga=5e3;this.H=null;this.ja=0;this.B=this.shouldLoop=!1}buildCarousel(){this.N=this.element.hasAttribute("loop");this.G=this.element.hasAttribute("autoplay");var t=this.element.getAttribute("autoplay");t&&(this.H=parseInt(t,10),d(n(this.H)));this.buildSlides();this.shouldLoop=this.N&&this.isLoopingEligible();(this.B=this.G&&this.isLoopingEligible())&&0!=this.H&&mt(this);this.registerAction("toggleAutoplay",(t=>{(t=t.args)&&void 0!==t.toggleOn?dt(this,t.toggleOn):dt(this,!this.G)}),1)}buildSlides(){}viewportCallback(t){super.viewportCallback(t);t?pt(this):this.clearAutoplay()}goCallback(t,e,i){this.moveSlide(t,e,i?1:3);i?pt(this):this.clearAutoplay()}moveSlide(){}isLoopingEligible(){return!1}clearAutoplay(){null!==this.R&&(S(this.win).cancel(this.R),this.R=null)}removeAutoplay(){this.clearAutoplay();this.aa&&(this.element.removeAttribute("loop"),this.shouldLoop=this.N=this.aa=!1);this.B=this.G=!1}};function vt(t,e,i={}){k(t).then((s=>{s&&s.triggerEventForTarget(t,e,i,!0)}))}function bt(t,e,i){if(n(e)&&null!==t.h){t.U=!0;var s=Ct(t,e);t.C.mutate((()=>{xt(t,s,i);t.C.mutate((()=>{t.U=!1}))}))}}function gt(t,e,i,s){t.U=!0;var a=Ct(t,e)-t.h;var r=t.hasPrev();var n=r?t.D:0;0!=a||1!=i&&-1!=i||(a=i);if(1==a||-1!=a&&a==-1*(t.j-1))n=r?2*t.D:t.D;else if(-1==a||a==t.j-1)n=0;return Et(t,e,n).then((()=>{bt(t,n,s)}))}function wt(t,e){t.T&&S(t.win).cancel(t.T);t.T=S(t.win).delay((()=>{t.T=null;if(!t.U&&!t.Z){var e=t.l.scrollLeft;t.O?bt(t,e,1):gt(t,e,void 0,1)}}),e)}function yt(t,e){var i=t.j;if(0>e||e>=i||t.h==e)return!1;var s=0<=e-1?e-1:t.shouldLoop?t.j-1:null,a=e+1<t.j?e+1:t.shouldLoop?0:null,r=[];null!=s&&r.push(s);r.push(e);null!=a&&a!==s&&r.push(a);null!==t.h&&v(t.element).updateInViewport(t.element,t.m[c().assertNumber(t.h,"E#19457 this.slideIndex_")],!1);var n=t.m[e];if(void 0===n)return m().error("AMP-CAROUSEL","Attempting to access a non-existant slide %s / %s",e,i),!1;v(t.element).updateInViewport(t.element,n,!0);r.forEach(((i,s)=>{t.shouldLoop&&$(t.K[i],s+1);t.K[i].classList.add("i-amphtml-slide-item-show");var a=v(t.element);i==e?(a.scheduleLayout(t.element,t.m[i]),a.scheduleResume(t.element,t.m[i]),t.m[i].setAttribute("aria-hidden","false")):(a.schedulePreload(t.element,t.m[i]),t.m[i].setAttribute("aria-hidden","true"))}));t.l.scrollLeft=At(t,e);_t(t,e);t.h=e;t.H&&t.h===t.j-1&&(t.ja++,t.ja==t.H&&t.removeAutoplay());Mt(t,r);t.setControlsState();t.updateButtonTitles();return!0}function At(t,e){var i=t.D;if(!t.shouldLoop&&0==e||1>=t.m.length)i=0;return i}function xt(t,e,i=1){if(yt(t,e)){var s=t.win;var a=E({index:e});var r={detail:a};Object.assign(r,void 0);"function"==typeof s.CustomEvent?a=new s.CustomEvent("slidescroll.slideChange",r):(s=s.document.createEvent("CustomEvent"),s.initCustomEvent("slidescroll.slideChange",!!r.bubbles,!!r.cancelable,a),a=s);t.V.trigger(t.element,"slideChange",a,i);t.element.dispatchCustomEvent("slideChange",{index:e,actionTrust:i})}}function Lt(t,e){var i=t.l.scrollWidth;-1==t.M&&e>=t.S?gt(t,e).then((()=>{t.M=0})):1==t.M&&e<=t.S?gt(t,e).then((()=>{t.M=0})):t.M=0>e?-1:e+t.D>i?1:0}function Ct(t,e){var i=Math.round(e/t.D);var s=0;e=t.hasPrev();var a=t.hasNext();e&&a?s=i-1:a?s=i:e&&(s=i-1);e=t.h+s;return e=t.shouldLoop?0>e?t.j-1:e>=t.j?0:e:0>e?0:e>=t.j?t.j-1:e}function Et(t,e,i){if(e==i)return s();var a=it(e,i);i=N(.8,0,.6,1);return V(t.l,(e=>{t.l.scrollLeft=a(e)}),80,i).thenAlways()}function Pt(t,e){var i=String(e+1),s=String(t.j);return" "+(t.element.getAttribute("data-button-count-format")||"(%s of %s)").replace("%s",i).replace("%s",s)}function _t(t,e){var i=e-t.h;if(0!=i){1!==Math.abs(i)&&(i=0>i?1:-1,null===t.h&&(i=1));var s=E({fromSlide:null===t.h?"null":t.X[t.h],toSlide:t.X[e]});vt(t.element,"amp-carousel-change",s);1==i?vt(t.element,"amp-carousel-next",s):vt(t.element,"amp-carousel-prev",s)}}function Mt(t,e){var i=t.j;for(var s=0;s<i;s++)t.K[s].classList.contains("i-amphtml-slide-item-show")&&(e.includes(s)||(t.shouldLoop&&$(t.K[s],""),t.K[s].classList.remove("i-amphtml-slide-item-show"),t.m[s].removeAttribute("aria-hidden")),t.h!=s&&v(t.element).schedulePause(t.element,t.m[s]))}var kt=class extends ft{constructor(t){super(t);this.C=null;this.O=!1;this.m=[];this.j=0;this.l=null;this.K=[];this.U=!1;this.T=null;this.Z=!1;this.M=0;this.h=null;this.S=this.D=this.ia=0;this.X=[];this.Y=f(this.win,"platform").isIos();this.V=null;if(f(this.win,"platform").getIosVersionString().startsWith("10.3"))t=!0;else if(this.Y)t=!1;else{var e=this.win;if(e.__AMP__EXPERIMENT_TOGGLES)t=e.__AMP__EXPERIMENT_TOGGLES;else{e.__AMP__EXPERIMENT_TOGGLES=Object.create(null);t=e.__AMP__EXPERIMENT_TOGGLES;if(e.AMP_CONFIG)for(var i in e.AMP_CONFIG){var s=e.AMP_CONFIG[i];"number"===typeof s&&0<=s&&1>=s&&(t[i]=Math.random()<s)}if(e.AMP_CONFIG&&Array.isArray(e.AMP_CONFIG["allow-doc-opt-in"])&&0<e.AMP_CONFIG["allow-doc-opt-in"].length&&(i=e.AMP_CONFIG["allow-doc-opt-in"],s=e.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){s=s.getAttribute("content").split(",");for(var n=0;n<s.length;n++)-1!=i.indexOf(s[n])&&(t[s[n]]=!0)}Object.assign(t,H(e));if(e.AMP_CONFIG&&Array.isArray(e.AMP_CONFIG["allow-url-opt-in"])&&0<e.AMP_CONFIG["allow-url-opt-in"].length){i=e.AMP_CONFIG["allow-url-opt-in"];e=e.location.originalHash||e.location.hash;s=Object.create(null);if(e)for(var l;l=r.exec(e);)n=a(l[1],l[1]),l=l[2]?a(l[2].replace(/\+/g," "),l[2]):"",s[n]=l;e=s;for(s=0;s<i.length;s++)n=e[`e-${i[s]}`],"1"==n&&(t[i[s]]=!0),"0"==n&&(t[i[s]]=!1)}}t=!t["amp-carousel-chrome-scroll-snap"]}this.fa=t}isLayoutSupported(t){return"fixed"==t||"fixed-height"==t||"responsive"==t||"fill"==t||"flex-item"==t||"fluid"==t||"intrinsic"==t}buildSlides(){this.C=this.getVsync();this.V=b(this.element);this.V.addToAllowlist("AMP-CAROUSEL","goToSlide",["email"]);this.O=void 0!=q(this.element);this.fa&&(this.O=!1);this.element.classList.add("i-amphtml-slidescroll");this.m=this.getRealChildren();this.j=this.m.length;this.l=this.win.document.createElement("div");this.l.setAttribute("tabindex","-1");this.l.classList.add("i-amphtml-slides-container");this.l.setAttribute("aria-live","polite");this.fa&&this.l.classList.add("i-amphtml-slidescroll-no-snap");if(this.O){var t=this.win.document.createElement("div");t.classList.add("i-amphtml-carousel-start-marker");this.l.appendChild(t);t=this.win.document.createElement("div");t.classList.add("i-amphtml-carousel-end-marker");this.l.appendChild(t)}this.element.appendChild(this.l);this.m.forEach(((t,e)=>{this.X.push(t.getAttribute("data-slide-id")||e.toString());v(this.element).setOwner(t,this.element);t.classList.add("amp-carousel-slide");var i=this.win.document.createElement("div");i.classList.add("i-amphtml-slide-item");this.l.appendChild(i);i.appendChild(t);this.K.push(i)}));this.W();this.l.addEventListener("scroll",this.da.bind(this));this.l.addEventListener("keydown",this.$.bind(this));et(this.l,"touchmove",this.ta.bind(this));et(this.l,"touchend",this.sa.bind(this));this.registerAction("goToSlide",(t=>{(t=t.args)&&this.goToSlide(t.index,3)}),1)}isLoopingEligible(){return 1<this.j}mutatedAttributesCallback(t){var e=t.slide;void 0!==e&&this.goToSlide(e,3)}ta(){this.clearAutoplay();this.Z=!0}sa(){var t=this.fa?45:100;this.Z=!1;wt(this,t)}onLayoutMeasure(){this.D=this.element.getLayoutWidth()}layoutCallback(){if(_(this.element))return s();if(null===this.h)yt(this,this.ia);else{var t=c().assertNumber(this.h,"E#19457 this.slideIndex_"),e=At(this,t);v(this.element).scheduleLayout(this.element,this.m[t]);this.S=this.l.scrollLeft=e}return s()}unlayoutCallback(){this.h=null;return super.unlayoutCallback()}viewportCallback(t){super.viewportCallback(t);null!==this.h&&v(this.element).updateInViewport(this.element,this.m[c().assertNumber(this.h,"E#19457 this.slideIndex_")],t)}hasPrev(){return this.shouldLoop||0<this.h}hasNext(){return this.shouldLoop||this.h<this.m.length-1}moveSlide(t,e,i){if(null!==this.h){var s=this.hasNext(),a=this.hasPrev();if(1==t&&s||-1==t&&a){var r=this.h+t;-1==r?r=this.j-1:r>=this.j&&(r=0);e?gt(this,1!=t||a?this.D:0,t,i):xt(this,r,i)}}}da(){var t=this.l.scrollLeft;this.Y||Lt(this,t);wt(this,this.O?200:this.Y?45:100);this.S=t}$(t){var e=t.key;"ArrowLeft"!=e&&"ArrowRight"!=e||t.stopPropagation()}getPrevButtonTitle(){var t=this.h;t=0<=t-1?t-1:this.shouldLoop?this.j-1:null;t=null==t?0:t;return super.getPrevButtonTitle()+Pt(this,t)}getNextButtonTitle(){var t=this.h;t=t+1<this.j?t+1:this.shouldLoop?0:null;t=null==t?this.j-1:t;return super.getNextButtonTitle()+Pt(this,t)}goToSlide(t,e){var i=parseInt(t,10);!isFinite(i)||0>i||i>=this.j?this.user().error("AMP-CAROUSEL","Invalid [slide] value: ",t):null===this.h?this.ia=i:xt(this,i,e)}W(){et(this.element,"touchmove",(t=>t.stopPropagation()))}};var St=class extends t.BaseElement{upgradeCallback(){return"slides"==this.element.getAttribute("type")?new kt(this.element):new ct(this.element)}};(t=>{t.registerElement("amp-carousel",St,".amp-carousel-slide>.i-amphtml-replaced-content{-o-object-fit:contain;object-fit:contain}.amp-carousel-button{position:absolute;box-sizing:border-box;top:50%;height:34px;width:34px;border-radius:2px;opacity:0;pointer-events:all;background-color:rgba(0,0,0,0.5);background-position:50% 50%;background-repeat:no-repeat;transform:translateY(-50%);visibility:hidden;z-index:10}.amp-carousel-button:focus{border:1px solid #000;outline:1px solid #fff}.amp-mode-mouse .amp-carousel-button,amp-carousel.i-amphtml-carousel-has-controls .amp-carousel-button,amp-carousel[controls] .amp-carousel-button{opacity:1;visibility:visible}.amp-carousel-button-prev{left:16px;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' fill='%23fff'%3E%3Cpath d='M15 8.25H5.87l4.19-4.19L9 3 3 9l6 6 1.06-1.06-4.19-4.19H15v-1.5z'/%3E%3C/svg%3E\");background-size:18px 18px}.amp-carousel-button-next{right:16px;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' fill='%23fff'%3E%3Cpath d='M9 3L7.94 4.06l4.19 4.19H3v1.5h9.13l-4.19 4.19L9 15l6-6z'/%3E%3C/svg%3E\");background-size:18px 18px}.i-amphtml-carousel-button-start-hint .amp-carousel-button:not(.amp-disabled){animation:i-amphtml-carousel-hint 1s ease-in 3s 1 normal both}.amp-mode-mouse .i-amphtml-carousel-button-start-hint .amp-carousel-button:not(.amp-disabled){animation:none}@keyframes i-amphtml-carousel-hint{0%{opacity:1;visibility:visible}to{opacity:0;visibility:hidden}}amp-carousel .amp-carousel-button.amp-disabled{animation:none;opacity:0;visibility:hidden}amp-carousel[i-amphtml-carousel-hide-buttons] .amp-carousel-button-next,amp-carousel[i-amphtml-carousel-hide-buttons] .amp-carousel-button-prev{opacity:0;pointer-events:none;visibility:visible!important}.i-amphtml-slides-container{display:-ms-flexbox!important;display:flex!important;-ms-flex-wrap:nowrap;flex-wrap:nowrap;height:100%!important;left:0;overflow-x:auto!important;overflow-y:hidden!important;position:absolute!important;top:0;width:100%!important;scroll-snap-type:x mandatory!important;scrollbar-width:none;padding-bottom:20px!important;box-sizing:content-box!important;-webkit-overflow-scrolling:touch!important}.i-amphtml-slides-container::-webkit-scrollbar{display:none!important}.i-amphtml-slides-container.i-amphtml-no-scroll{overflow-x:hidden!important}.i-amphtml-slide-item{-ms-flex-align:center!important;align-items:center!important;display:none!important;-ms-flex:0 0 100%!important;flex:0 0 100%!important;height:100%!important;-ms-flex-pack:center!important;justify-content:center!important;position:relative!important;scroll-snap-align:start!important;width:100%!important}.i-amphtml-slide-item>*{height:100%;width:100%;overflow:hidden!important}.i-amphtml-slide-item-show{display:-ms-flexbox!important;display:flex!important}.i-amphtml-carousel-end-marker,.i-amphtml-carousel-start-marker{background-color:transparent!important;display:block!important;-ms-flex:0 0 1px!important;flex:0 0 1px!important;height:100%!important;position:relative!important;scroll-snap-align:start!important;width:1px!important}.i-amphtml-carousel-start-marker{-ms-flex-order:-1!important;order:-1!important;margin-left:-1px!important}.i-amphtml-carousel-end-marker{-ms-flex-order:100000000!important;order:100000000!important;margin-right:-1px!important}.i-amphtml-slidescroll-no-snap.i-amphtml-slides-container{scroll-snap-type:none!important}.i-amphtml-slidescroll-no-snap .i-amphtml-slide-item{scroll-snap-align:none!important}.i-amphtml-slidescroll-no-snap.i-amphtml-slides-container.i-amphtml-no-scroll{-webkit-overflow-scrolling:auto!important}.amp-scrollable-carousel-slide{display:inline-block!important;margin-left:8px}.amp-scrollable-carousel-slide:first-child{margin-left:0px}.i-amphtml-scrollable-carousel-container{white-space:nowrap!important;overflow-x:auto!important;overflow-y:hidden!important;-webkit-overflow-scrolling:touch!important}\n/*# sourceURL=/extensions/amp-carousel/0.1/amp-carousel.css*/")})(self.AMP)}});