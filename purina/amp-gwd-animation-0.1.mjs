(self.AMP=self.AMP||[]).push({n:"amp-gwd-animation",v:"2010270040000",f:function(e,t){function i(e){return e?Array.prototype.slice.call(e):[]}var a=self.AMP_CONFIG||{},n=("string"==typeof a.cdnProxyRegex?new RegExp(a.cdnProxyRegex):a.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function r(e){if(self.document&&self.document.head&&(!self.location||!n.test(self.location.origin))){var t=self.document.head.querySelector(`meta[name="${e}"]`);t&&t.getAttribute("content")}}a.cdnUrl||r("runtime-host");a.geoApiUrl||r("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var s=self.__AMP_LOG;function o(){if(!s.user)throw Error("failed to call initLogConstructor");return s.user}function l(e,t){return o().assert(e,t,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}
/*
    https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var d;var c=Object.prototype.hasOwnProperty;function m(e,t,i){if(t(e))i();else{var a=e.ownerDocument.defaultView;if(a.MutationObserver){var n=new a.MutationObserver((()=>{t(e)&&(n.disconnect(),i())}));n.observe(e,{childList:!0})}else var r=a.setInterval((()=>{t(e)&&(a.clearInterval(r),i())}),5)}}var v=["animationend","webkitAnimationEnd"];function _(e){e.classList.remove("gwd-play-animation");[e].concat(i(e.querySelectorAll("*"))).forEach((e=>{e.classList.remove("gwd-pause-animation");if(e.hasAttribute("data-gwd-label-animation")){var t=e.getAttribute("data-gwd-label-animation");e.classList.remove(t);e.removeAttribute("data-gwd-label-animation")}delete e.__AMP_GWD_GOTO_COUNTERS__}))}function g(e,t){e.classList.remove("gwd-pause-animation");var i=e.getAttribute("data-gwd-label-animation");i&&(e.classList.remove(i),e.removeAttribute("data-gwd-label-animation"));i==t&&(self.__AMP_GWD_TEMP=e.offsetWidth,delete self.__AMP_GWD_TEMP);e.classList.add(t);e.setAttribute("data-gwd-label-animation",t)}var u=class{constructor(e){this.D=e;this.j=e.win;this.c=this.j.document;this.l=this.B.bind(this);e.whenReady().then((()=>{var e=this.c.body;m(e,(()=>!!e.querySelector(`.${CSS.escape("gwd-page-wrapper")}`)),this.A.bind(this))}))}A(){for(var e=0;e<v.length;e++)this.c.body.addEventListener(v[e],this.l,!0);this.setCurrentPage(0)}setEnabled(e){this.c.body.classList.toggle("i-amphtml-gwd-animation-disabled",!e)}setCurrentPage(e){var t=this.c.body.querySelectorAll(`.${CSS.escape("gwd-page-wrapper")}`);if(0!=t.length){var i=`.${CSS.escape("gwd-page-wrapper")}.${CSS.escape("gwd-play-animation")}`;var a=this.c.body;if(void 0!==d)var n=d;else{try{var r=a.ownerDocument,s=r.createElement("div"),l=r.createElement("div");s.appendChild(l);n=s.querySelector(":scope div")===l}catch(e){n=!1}n=d=n}if(n)var c=a.querySelector(i.replace(/^|,/g,"$&:scope "));else a.classList.add("i-amphtml-scoped"),n=i.replace(/^|,/g,"$&.i-amphtml-scoped "),n=a.querySelectorAll(n),a.classList.remove("i-amphtml-scoped"),a=n,c=void 0===a[0]?null:a[0];c&&_(c);var m=t[e];m?m.classList.add("gwd-play-animation"):o().error("GWD","Could not find page with index "+e+".")}}play(e){(e=this.getReceiver(e))&&e.classList.remove("gwd-pause-animation")}pause(e){(e=this.getReceiver(e))&&e.classList.add("gwd-pause-animation")}togglePlay(e){(e=this.getReceiver(e))&&e.classList.toggle("gwd-pause-animation")}gotoAndPlay(e,t){(e=this.getReceiver(e))&&g(e,t)}gotoAndPause(e,t){var i=this.getReceiver(e);i&&(g(i,t),this.j.setTimeout((()=>{this.pause(e)}),40))}gotoAndPlayNTimes(e,t,i,a){if(0>=i)o().error("GWD",`Invalid maxCount parameter: ${i}`);else if(a){if(e=this.getReceiver(e)){var n=`${a}_${t}`;var r=e.__AMP_GWD_GOTO_COUNTERS__&&c.call(e.__AMP_GWD_GOTO_COUNTERS__,n)?e.__AMP_GWD_GOTO_COUNTERS__[n]:0;r<i&&(g(e,t),t=r+1,e.__AMP_GWD_GOTO_COUNTERS__||(e.__AMP_GWD_GOTO_COUNTERS__={}),c.call(e.__AMP_GWD_GOTO_COUNTERS__,n)||(e.__AMP_GWD_GOTO_COUNTERS__[n]=0),e.__AMP_GWD_GOTO_COUNTERS__[n]=t)}}else o().error("GWD","Event name required but not specified.")}getReceiver(e){if("document.body"==e)return this.c.body;var t=this.c.getElementById(e);if(t&&t.classList)return t;o().error("GWD",`Could not get receiver with id ${e}.`);return null}B(e){var t=e.target.getAttribute("data-event-name");if(t){e={eventName:t,sourceEvent:e};var i=this.j;var a={detail:e};Object.assign(a,void 0);if("function"==typeof i.CustomEvent)var n=new i.CustomEvent("gwd.timelineEvent",a);else i=i.document.createEvent("CustomEvent"),i.initCustomEvent("gwd.timelineEvent",!!a.bubbles,!!a.cancelable,e),n=i;this.c.dispatchEvent(n)}}dispose(){for(var e=0;e<v.length;e++)this.c.body.removeEventListener(v[e],this.l,!0)}};function h(e,t){e=p(e);e=p(e);e=e.isSingleDoc()?e.win:e;return b(e,t)?f(e,t):null}function p(e){if(e.nodeType){var t=(e.ownerDocument||e).defaultView;t=t.__AMP_TOP||(t.__AMP_TOP=t);e=f(t,"ampdoc").getAmpDoc(e)}return e}function f(e,t){b(e,t);var i=e.__AMP_SERVICES;i||(i=e.__AMP_SERVICES={});e=i;t=e[t];t.obj||(t.obj=new t.ctor(t.context),t.ctor=null,t.context=null,t.resolve&&t.resolve(t.obj));return t.obj}function b(e,t){e=e.__AMP_SERVICES&&e.__AMP_SERVICES[t];return!(!e||!e.ctor&&!e.obj)}var A={play:["args.id"],pause:["args.id"],togglePlay:["args.id"],gotoAndPlay:["args.id","args.label"],gotoAndPause:["args.id","args.label"],gotoAndPlayNTimes:["args.id","args.label","args.N","event.detail.eventName"],setCurrentPage:["args.index"]};function w(e){return e.h?e.h.win.document:e.getAmpDoc().getRootNode()}function P(e,t){e=l(h(e.element,"gwd"),"Cannot execute action because the GWD service is not registered.");var i=A[t.method].map((e=>{var i=e.split(".");var a=t;for(var n=0;n<i.length;n++){var r=i[n];if(r&&a&&void 0!==a[r])a=a[r];else{a=void 0;break}}i=a;return i}));e[t.method].apply(e,i)}var E=class extends e.BaseElement{constructor(e){super(e);this.o="";this.h=null;this.m=this.C.bind(this)}buildCallback(){this.o=this.element.getAttribute("timeline-event-prefix")||"";e:{var e=this.element,t=this.getAmpDoc().win;e=(e.ownerDocument||e).defaultView;t=t||e.__AMP_TOP||(e.__AMP_TOP=e);if(e&&e!=t&&(e.__AMP_TOP||(e.__AMP_TOP=e))==t)try{var i=e.frameElement;break e}catch(e){}i=null}var a=i;a&&(this.h=a.__AMP_EMBED__);w(this).addEventListener("gwd.timelineEvent",this.m,!0);var n=w(this).getElementById("pagedeck");if(n){l(this.element.id,"The amp-gwd-animation element must have an id.");i=this.element;t=`${this.element.id}.setCurrentPage(index=event.index)`;e=n.getAttribute("on")||"";var r=e.indexOf("slideChange:");-1!=r?(r+=12,e=e.substr(0,r)+t+","+e.substr(r)):(e&&(e+=";"),e+=`slideChange:${t}`);h(i,"action").setActions(n,e)}i=this.w.bind(this);for(var s in A)this.registerAction(s,i)}w(e){var t="setCurrentPage"==e.method?(t=w(this).getElementById("pagedeck"))&&e.source==t:!0;t&&P(this,e)}C(e){h(this.element,"action").trigger(this.element,`${this.o}${e.detail.eventName}`,e,3)}detachedCallback(){w(this).removeEventListener("gwd.timelineEvent",this.m,!0);return!0}};(e=>{e.registerServiceForDoc("gwd",u);e.registerElement("amp-gwd-animation",E,".i-amphtml-gwd-animation-disabled [class*=-animation],.i-amphtml-gwd-animation-disabled [class*=gwdanimation]{animation:none!important}\n/*# sourceURL=/extensions/amp-gwd-animation/0.1/amp-gwd-animation.css*/")})(self.AMP)}});